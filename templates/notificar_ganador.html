{% extends "base.html" %}
{% block content %}
<style>
  /* Ajuste de lista desplegable y opciones */
  #nombre_rifa {
    background-color: #111827;  /* fondo oscuro */
    color: #ffffff;             /* texto blanco por defecto */
    border: 2px solid red;      /* borde rojo por defecto */
    border-radius: 6px;
    transition: border-color 0.3s ease;
  }
  #nombre_rifa:focus {
    border-color: #22c55e;      /* verde al enfocar */
    outline: none;
  }
  #nombre_rifa option {
    background-color: #ffffff;  /* fondo blanco al desplegar */
    color: #000000;              /* texto negro para contraste */
  }
</style>

<div class="container py-4">
  <div class="d-flex flex-wrap justify-content-between align-items-center gap-2 mb-3">
    <h2 class="m-0">üèÜ Notificar Ganador</h2>
    <div class="d-flex flex-wrap gap-2">
      <a class="btn btn-outline-light" href="{{ url_for('panel') }}">‚Üê Volver al panel</a>
    </div>
  </div>

  <div class="glass p-4">
    <form method="POST" action="{{ url_for('notificar_ganador') }}" class="row g-3">
      <!-- Selecci√≥n de rifa por NOMBRE -->
      <div class="col-12 col-md-6">
        <label for="nombre_rifa" class="form-label">Rifa</label>
        <select class="form-select" id="nombre_rifa" name="nombre_rifa" required>
          {% for nombre in nombres_rifas %}
            <option value="{{ nombre }}">{{ nombre }}</option>
          {% endfor %}
        </select>
        <div class="form-text">Elige la rifa donde se realiz√≥ el sorteo.</div>
      </div>

      <!-- N√∫mero ganador -->
      <div class="col-12 col-md-6">
        <label for="numero_ganador" class="form-label">N√∫mero ganador</label>
        <input
          type="text"
          class="form-control"
          id="numero_ganador"
          name="numero_ganador"
          placeholder="Ej: 05, 1234"
          required
          inputmode="numeric"
          pattern="[0-9]{1,6}"
          maxlength="6"
        >
        <div class="form-text">
          Escribe el n√∫mero exactamente como aparece en el talonario (incluye ceros a la izquierda si aplica).
        </div>
      </div>

      <div class="col-12 d-flex justify-content-end">
        <button type="submit" class="btn btn-primary">üöÄ Notificar al Ganador</button>
      </div>
    </form>
  </div>

  {% if mensaje %}
    <div class="alert alert-success mt-3" role="alert">
      {{ mensaje }}
    </div>
  {% endif %}
</div>
{% endblock %}